T=0.3;

z=tf('z',0.3);
k1=1;
k3=0.3;
k2=sqrt(2);
Wv=((k2+k3-k2/z)*T/z)/((1-z^-1)^2+T*z^-1*(k2+k3-k2*z^-1));
Wvp=Wv*T*(1+z^-1)/2/(1-z^-1);
W=(Wvp/(1+Wvp));
W=minreal(W);
Fp=(1-2.409*z^-1+2.075*z^-2-0.6393*z^-3)/2/0.07714/(1-0.825*z^-1)
Fp=minreal(Fp)
F=(1+z^-1)/4/0.07714/(1-0.825*z^-1)*(1-2.409*z^-1+2.075*z^-2-0.6393*z^-3);
F=minreal(F)
WTp=minreal(Fp*W,.01)
WT=minreal(F*W,.01)
bode(WTp*z)
hold
bode(WT*z^2)
